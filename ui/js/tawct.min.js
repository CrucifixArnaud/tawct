// Mousewheel

(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){module.exports=e}else{e(jQuery)}})(function(e){function o(t){var n=t||window.event,s=[].slice.call(arguments,1),o=0,u=0,a=0,f=0,l=0,c;t=e.event.fix(n);t.type="mousewheel";if(n.wheelDelta){o=n.wheelDelta}if(n.detail){o=n.detail*-1}if(n.deltaY){a=n.deltaY*-1;o=a}if(n.deltaX){u=n.deltaX;o=u*-1}if(n.wheelDeltaY!==undefined){a=n.wheelDeltaY}if(n.wheelDeltaX!==undefined){u=n.wheelDeltaX*-1}f=Math.abs(o);if(!r||f<r){r=f}l=Math.max(Math.abs(a),Math.abs(u));if(!i||l<i){i=l}c=o>0?"floor":"ceil";o=Math[c](o/r);u=Math[c](u/i);a=Math[c](a/i);s.unshift(t,o,u,a);return(e.event.dispatch||e.event.handle).apply(this,s)}var t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"];var n="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];var r,i;if(e.event.fixHooks){for(var s=t.length;s;){e.event.fixHooks[t[--s]]=e.event.mouseHooks}}e.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=n.length;e;){this.addEventListener(n[--e],o,false)}}else{this.onmousewheel=o}},teardown:function(){if(this.removeEventListener){for(var e=n.length;e;){this.removeEventListener(n[--e],o,false)}}else{this.onmousewheel=null}}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})

// BrowserDetect

var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string;var r=e[t].prop;this.versionSearchString=e[t].versionSearch||e[t].identity;if(n){if(n.indexOf(e[t].subString)!=-1)return e[t].identity}else if(r)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(t==-1)return;return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init()

// animate-sequence.js - Crucifix Arnaud (hello@crucifixarnaud.com)
// Select items in sequence, and toggle class "on"

/*------------------------*\
	@params
	------------------------
	
	_target    : Parent of the items to animates (ul, div, etc)
	_direction : forward - Animate from first to last child
							 backward - Animate from last to first child
	_duraction : Interval between each step (ms)
	_callback	 : Do you what you want
	
\*------------------------*/ 

var items;var i;var _animateSequence=function(e,t,n,r){items=_cleanWhitespace(e).childNodes;if(t=="backward"){i=items.length-1}else if(t=="forward"){i=0}_step(t,n,function(){r()})};var _step=function(e,t,n){clearTimeout(r);if(i<items.length&&e!="backward"||i>=0&&e=="backward"){items[i].classList.toggle("on");if(e=="backward"){i--}else if(e=="forward"){i++}var r=setTimeout(function(){_step(e,t,n)},t)}else{if(n&&typeof n==="function"){n()}}};var _cleanWhitespace=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(n.nodeType==3&&!/\S/.test(n.nodeValue)){e.removeChild(n);t--}if(n.nodeType==1){_cleanWhitespace(n)}}return e}

// tawct.js

function checkScroll(){var e=globalTag.offsetWidth;if(e<=450){customScroll=false}else{customScroll=true}}var bodyTag=$("body");var globalTag=document.getElementById("global");var gallery=document.getElementById("gallery");var customScroll=true;$(function(){$(globalTag).removeClass("no-js");$(gallery).removeClass("cf");var e=BrowserDetect.browser;if(e=="Safari"||e=="Chrome"){globalTag.classList.add("text-fill")}$("figure img").show().lazyload();checkScroll();bodyTag.mousewheel(function(e,t){if(customScroll==true){e.preventDefault();var n=$(document).scrollLeft();window.scrollTo(n-t*200,0)}});window.onresize=function(e){checkScroll()};window.onkeydown=function(e){var t=e.keyCode;if(customScroll==true){var n=$(document).scrollLeft();if(t==37||t==38){window.scrollTo(n-2*250,0);e.preventDefault()}else if(t==39||t==40){window.scrollTo(n+2*250,0);e.preventDefault()}}else{var n=$(document).scrollTop();if(t==37||t==38){window.scrollTo(0,n-1*520);e.preventDefault()}else if(t==39||t==40){window.scrollTo(0,n+1*520);e.preventDefault()}}};var t=document.getElementById("about");var n=document.getElementById("link-about");var r=false;var i=false;var s;n.onclick=function(e){e.preventDefault();if(i==false){i=!i;if(r==false){t.classList.toggle("on");_animateSequence(t,"forward",150,function(){i=!i;r=!r})}else{_animateSequence(t,"forward",150,function(){s=setTimeout(function(){clearTimeout(s);t.classList.toggle("on");r=!r;i=!i},400)})}}}})

